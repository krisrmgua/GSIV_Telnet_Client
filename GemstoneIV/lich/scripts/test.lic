mylevel = XMLData.level
xpnNLT = XMLData.next_level_text
if xpnNLT =~ /( experience| until next level)/
    xpnCur = xpnNLT.delete(' experience').delete(' until next level').to_i
end
#echo xpnCur
#xpnValue = XMLData.next_level_value.to_i

level = Hash.new
level['1'] = "2500"
level['2'] = "5000"
level['3'] = "10000"
level['4'] = "17500"
level['5'] = "27500"
level['6'] = "40000"
level['7'] = "55000"
level['8'] = "72500"
level['9'] = "92500"
level['10'] = "115000"
level['11'] = "140000"
level['12'] = "167000"
level['13'] = "197500"
level['14'] = "230000"
level['15'] = "265000"
level['16'] = "302000"
level['17'] = "341000"
level['18'] = "382000"
level['19'] = "425000"
level['20'] = "470000"
level['21'] = "517000"
level['22'] = "566000"
level['23'] = "617000"
level['24'] = "670000"
level['25'] = "725000"
level['26'] = "781500"
level['27'] = "839500"
level['28'] = "899000"
level['29'] = "960000"
level['30'] = "1022500"
level['31'] = "1086500"
level['32'] = "1152000"
level['33'] = "1219000"
level['34'] = "1287500"
level['35'] = "1357500"
level['36'] = "1429000"
level['37'] = "1502000"
level['38'] = "1576500"
level['39'] = "1652500"
level['40'] = "1730000"
level['41'] = "1808500"
level['42'] = "1888000"
level['43'] = "1968500"
level['44'] = "2050000"
level['45'] = "2132500"
level['46'] = "2216000"
level['47'] = "2300500"
level['48'] = "2386000"
level['49'] = "2472500"
level['50'] = "2560000"
level['51'] = "2648000"
level['52'] = "2736500"
level['53'] = "2825500"
level['54'] = "2915000"
level['55'] = "3005000"
level['56'] = "3095500"
level['57'] = "3186500"
level['58'] = "3278000"
level['59'] = "3370000"
level['60'] = "3462500"
level['61'] = "3555500"
level['62'] = "3649000"
level['63'] = "3743000"
level['64'] = "3837500"
level['65'] = "3932500"
level['66'] = "4028000"
level['67'] = "4124000"
level['68'] = "4220500"
level['69'] = "4317500"
level['70'] = "4415000"
level['71'] = "4513000"
level['72'] = "4611500"
level['73'] = "4710500"
level['74'] = "4810000"
level['75'] = "4910000"
level['76'] = "5010500"
level['77'] = "5111500"
level['78'] = "5213000"
level['79'] = "5315000"
level['80'] = "5417500"
level['81'] = "5520500"
level['82'] = "5624000"
level['83'] = "5728000"
level['84'] = "5832500"
level['85'] = "5937500"
level['86'] = "6043000"
level['87'] = "6149000"
level['88'] = "6255500"
level['89'] = "6362500"
level['90'] = "6470000"
level['91'] = "6578000"
level['92'] = "6686500"
level['93'] = "6795500"
level['94'] = "6905000"
level['95'] = "7015000"
level['96'] = "7125500"
level['97'] = "7236500"
level['98'] = "7348000"
level['99'] = "7460000"
level['100'] = "7572500"

exp_needed = level["#{mylevel}"]
mypercent = 100 - (exp_needed.to_i / xpnCur)
respond "[[[ EXP%: #{mypercent}% ]]]"
